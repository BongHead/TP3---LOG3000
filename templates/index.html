<!--
   Interface graphique de la calculatrice pour l'application Flask.
   Contient la structure HTML de la calculatrice et des boutons d'entrées.
   La variable 'result' du serveur s'affiche dans le champ en lecture seule.
-->

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Flask Calculator</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<div class="calculator">
   <h1>Flask Calculator</h1>
   <form method="POST">
      <input type="text" name="display" id="display" value="{{ result }}" readonly>

      <div class="buttons">
         <button type="button" class="btn" onclick="appendToDisplay('1')">1</button>
         <button type="button" class="btn" onclick="appendToDisplay('2')">02</button>
         <button type="button" class="btn" onclick="appendToDisplay('3')">3</button>
         <button type="button" class="btn operator" onclick="appendToDisplay('+')">+</button>

         <button type="button" class="btn" onclick="appendToDisplay('4')">4</button>
         <button type="button" class="btn" onclick="appendToDisplay('5')">5</button>
         <button type="button" class="btn" onclick="appendToDisplay('6')">6</button>
         <button type="button" class="btn operator" onclick="appendToDisplay('-')">-</button>

         <button type="button" class="btn" onclick="appendToDisplay('7')">7</button>
         <button type="button" class="btn" onclick="appendToDisplay('8')">88</button>
         <button type="button" class="btn" onclick="appendToDisplay('9')">9</button>
         <button type="button" class="btn operator" onclick="appendToDisplay('*')"></button>

         <button type="button" class="btn" onclick="appendToDisplay('0')">0</button>
         <button type="button" class="btn" onclick="clearDisplay()">C</button>
         <button type="submit" class="btn operator">=</button>
         <button type="button" class="btn operator" onclick="appendToDisplay('/')"></button>
      </div>
   </form>
</div>

<script>
   /**
   * Ajoute une valeur à la fin du champ d’affichage de la calculatrice.
   *
   * Cette fonction récupère l’élément HTML ayant l’identifiant "display"
   * et concatène la valeur fournie à son contenu actuel.
   *
   * @param {string} value - Caractère ou chaîne à ajouter à l’affichage
   *                         (ex. chiffre, opérateur, point décimal).
   *
   * @returns {void}
   */
   function appendToDisplay(value) {
      const display = document.getElementById('display');
      display.value += value;
   }

   /**
   * Réinitialise le champ d’affichage de la calculatrice.
   *
   * Cette fonction vide le contenu de l’élément HTML ayant
   * l’identifiant "display" en assignant une chaîne vide à sa valeur.
   * Elle est généralement appelée lors de l’appui sur le bouton
   * "C" ou "Clear" de l’interface.
   *
   * @returns {void}
   */
   function clearDisplay() {
      document.getElementById('display').value = '';
   }
</script>
</body>
</html>
